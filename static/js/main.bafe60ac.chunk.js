(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(2),a=n.n(c),u=n(11),i=n.n(u),o=(n(18),n(9)),b=n(8),s=n(12),l=n.n(s),f=n(5),j=n.n(f),m=function(e){var t=e.tryAgain,n=e.isGameOver,c=e.grid,a=e.newNumberIndex;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:j.a.container,children:[n&&Object(r.jsxs)("div",{className:j.a.gameOver,children:[Object(r.jsx)("div",{children:"Game Over!"}),Object(r.jsx)("button",{onClick:t,children:"Try again"})]}),c.map((function(e,t){var n;return Object(r.jsx)("div",{className:l()((n={},Object(b.a)(n,j.a.cell,!0),Object(b.a)(n,j.a["number-".concat(e)],e),Object(b.a)(n,j.a.newNumber,t===a),n)),children:e>0&&e},"".concat(t))}))]})})},O=n(3),d=n.n(O),_=function(e){var t=e.newGame,n=e.count;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:d.a.container,children:[Object(r.jsx)("div",{className:d.a.logo,children:"2048"}),Object(r.jsxs)("div",{className:d.a.tablo,children:[Object(r.jsxs)("div",{className:d.a.score,children:[Object(r.jsx)("span",{children:"score"}),Object(r.jsx)("span",{className:d.a.count,children:n})]}),Object(r.jsxs)("div",{className:d.a.best,children:[Object(r.jsx)("span",{children:"best"}),Object(r.jsx)("span",{className:d.a.count,children:localStorage.getItem("bestScore")})]})]})]}),Object(r.jsx)("div",{className:d.a.buttonWrapper,children:Object(r.jsx)("button",{className:d.a.button,onClick:t,children:"New Game"})})]})},v=function(e,t){return new Array(e).fill(t)},G=n(1),h=n(4),g=n.n(h),p=function(e){var t=Object(G.a)(e),n=1===g.a.random(1,10)?4:2;return t[function(e){var t=e.map((function(e,t){if(!e)return t})).filter((function(e){return e||0===e}));return t[g.a.random(t.length-1)]}(e)]=n,t},x=function(e){for(var t=[];e.length>0;)t.push(e.splice(0,4));return t},w=function(e){for(var t=[[],[],[],[]],n=0;n<16;n++)n%4===0&&(t[0].push(e[n]),t[1].push(e[n+1]),t[2].push(e[n+2]),t[3].push(e[n+3]));return t},N=function(e){var t=[].concat(Object(G.a)(e.filter((function(e){return e}))),Object(G.a)(e.filter((function(e){return!e}))));return t.map((function(e,n){return t[n]===t[n+1]&&(e*=2,t[n+1]=0),e}))},S=function(e){var t=[].concat(Object(G.a)(e.filter((function(e){return!e}))),Object(G.a)(e.filter((function(e){return e}))));return t.reverse().map((function(e,n){return t[n]===t[n+1]&&(e*=2,t[n+1]=0),e})).reverse()},y=function(e,t){var n=Object(G.a)(t);return"ArrowRight"===e&&(n=Object(G.a)(function(e){return Object(G.a)(x(e)).map((function(e){return e=S(e),[].concat(Object(G.a)(e.filter((function(e){return!e}))),Object(G.a)(e.filter((function(e){return e}))))}))}(t)).flat()),"ArrowLeft"===e&&(n=Object(G.a)(function(e){return Object(G.a)(x(e)).map((function(e){return e=N(e),[].concat(Object(G.a)(e.filter((function(e){return e}))),Object(G.a)(e.filter((function(e){return!e}))))}))}(t)).flat()),"ArrowUp"===e&&(n=Object(G.a)(function(e){var t=Object(G.a)(w(e)).map((function(e){return e=N(e),[].concat(Object(G.a)(e.filter((function(e){return e}))),Object(G.a)(e.filter((function(e){return!e}))))}));return w(t.flat())}(t)).flat()),"ArrowDown"===e&&(n=Object(G.a)(function(e){var t=Object(G.a)(w(e)).map((function(e){return e=S(e),[].concat(Object(G.a)(e.filter((function(e){return!e}))),Object(G.a)(e.filter((function(e){return e}))))}));return w(t.flat())}(t)).flat()),n},A=function(){var e=Object(c.useState)(v(16,0)),t=Object(o.a)(e,2),n=t[0],a=t[1],u=Object(c.useState)(y("",n)),i=Object(o.a)(u,2),b=i[0],s=i[1],l=Object(c.useState)(!1),f=Object(o.a)(l,2),j=f[0],O=f[1],d=Object(c.useRef)(),h=Object(c.useRef)(null),x=Object(c.useRef)(),w=Object(c.useRef)(0),N=Object(c.useRef)(!1);Object(c.useEffect)((function(){a(p(p(v(16,0))))}),[]),Object(c.useEffect)((function(){null===localStorage.getItem("bestScore")&&localStorage.setItem("bestScore","0"),j&&w.current>Number(localStorage.getItem("bestScore"))&&localStorage.setItem("bestScore","".concat(w.current))}),[j]),Object(c.useEffect)((function(){var e,t;if(N.current&&(t=n,g.a.isEqual(t,y("ArrowRight",Object(G.a)(t)))&&g.a.isEqual(t,y("ArrowLeft",Object(G.a)(t)))&&g.a.isEqual(t,y("ArrowUp",Object(G.a)(t)))&&g.a.isEqual(t,y("ArrowDown",Object(G.a)(t)))&&w.current&&O(!0),w.current=n.reduce((function(e,t){return e+t})),JSON.stringify(n)!==d.current)){var r=p(n);a(r),x.current=function(e,t){for(var n,r=0;r<e.length;r++)e[r]!==t[r]&&(n=r);return n}(n,r)}N.current=!0,null===(e=h.current)||void 0===e||e.focus()}),[b]);var S=function(){var e;w.current=0,O(!1),a(p(p(v(16,0)))),null===(e=h.current)||void 0===e||e.focus()};return Object(r.jsxs)("section",{onKeyDown:function(e){d.current=JSON.stringify(n),a(y(e.key,n)),s(y(e.key,n))},style:{height:"100vh",outline:"none"},ref:h,tabIndex:0,children:[Object(r.jsx)(_,{newGame:S,count:w.current}),Object(r.jsx)(m,{tryAgain:S,isGameOver:j,newNumberIndex:x.current,grid:n})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,u=t.getTTFB;n(e),r(e),c(e),a(e),u(e)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(A,{})}),document.getElementById("root")),I()},3:function(e,t,n){e.exports={container:"Header_container__29Cyd",logo:"Header_logo__2gAbO",tablo:"Header_tablo__1_uJ3",score:"Header_score__i6kSy",best:"Header_best__3QPBN",count:"Header_count__3Bxrb",buttonWrapper:"Header_buttonWrapper__ukTCG",button:"Header_button__1JOra"}},5:function(e,t,n){e.exports={container:"GameGrid_container__1x5lS",cell:"GameGrid_cell__1PKC1",cellTwo:"GameGrid_cellTwo__3cshy","number-2":"GameGrid_number-2__lU4t-","number-4":"GameGrid_number-4__3eoCB","number-8":"GameGrid_number-8__3iuxV","number-16":"GameGrid_number-16__nYtd6","number-32":"GameGrid_number-32__2f51e","number-64":"GameGrid_number-64__3mowy","number-128":"GameGrid_number-128__eDi3A","number-256":"GameGrid_number-256__oOne2","number-512":"GameGrid_number-512__3pnOU","number-1024":"GameGrid_number-1024__2HSw7",newNumber:"GameGrid_newNumber__2SjoQ",newNum:"GameGrid_newNum__-5Mfv",ddd:"GameGrid_ddd__q9htc",gameOver:"GameGrid_gameOver__2UO6M"}}},[[21,1,2]]]);
//# sourceMappingURL=main.bafe60ac.chunk.js.map